{"version":3,"sources":["../../assets/js/app.js"],"names":["app","Vue","el","data","status","sSocketId","bInit","oSocket","oRoom","methods","init","_that","io","on","id","windowWidth","window","innerWidth","windowHeight","innerHeight","setup","canvas","createCanvas","parent","strokeWeight","draw","mouseDragged","line","mouseX","mouseY","pmouseX","pmouseY","emit","getRelativeMouse","msg","console","log","index","length","element"],"mappings":";;AAAA,IAAIA,MAAM,IAAIC,GAAJ,CAAQ;AACdC,QAAI,MADU;AAEdC,UAAM;AACFC,gBAAQ,0BADN;AAEFC,mBAAW,EAFT;AAGFC,eAAO,KAHL;AAIFC,iBAAS,IAJP;AAKFC,eAAO;AALL,KAFQ;AASdC,aAAS;AACLC,cAAM,gBAAW;AACb,gBAAIC,QAAQ,IAAZ;;AAEA,iBAAKJ,OAAL,GAAeK,IAAf;;AAEA,iBAAKL,OAAL,CAAaM,EAAb,CAAgB,SAAhB,EAA2B,YAAW;AAClCF,sBAAMN,SAAN,GAAkBM,MAAMJ,OAAN,CAAcO,EAAhC;AACAH,sBAAML,KAAN,GAAc,IAAd;AACH,aAHD;AAIH;AAVI;AATK,CAAR,CAAV;;AAuBAN,IAAIU,IAAJ;;AAEA,IAAIK,cAAcC,OAAOC,UAAzB;AACA,IAAIC,eAAeF,OAAOG,WAA1B;;AAEA,SAASC,KAAT,GAAiB;AACb,QAAIC,SAASC,aAAaP,WAAb,EAA0BG,YAA1B,CAAb;AACAG,WAAOE,MAAP,CAAc,MAAd;AACAC,iBAAa,CAAb;AACA;AACH;;AAED,SAASC,IAAT,GAAgB,CAGf;;AAED,SAASC,YAAT,GAAwB;;AAEpBC,SAAKC,MAAL,EAAaC,MAAb,EAAqBC,OAArB,EAA8BC,OAA9B;;AAGA/B,QAAIO,OAAJ,CAAYyB,IAAZ,CAAiB,MAAjB,EAAyBC,kBAAzB;AAEH;;AAEDjC,IAAIO,OAAJ,CAAYM,EAAZ,CAAe,MAAf,EAAuB,UAAUqB,GAAV,EAAe;AAClCP,SAAKO,IAAIN,MAAJ,GAAab,WAAlB,EAA+BmB,IAAIL,MAAJ,GAAaX,YAA5C,EAA0DgB,IAAIJ,OAAJ,GAAcf,WAAxE,EAAqFmB,IAAIH,OAAJ,GAAcb,YAAnG;AACH,CAFD;;AAIAlB,IAAIO,OAAJ,CAAYM,EAAZ,CAAe,KAAf,EAAsB,UAAUqB,GAAV,EAAe;AACjCC,YAAQC,GAAR,CAAYF,GAAZ;;AAEA,SAAK,IAAIG,QAAQ,CAAjB,EAAoBA,QAAQH,IAAII,MAAhC,EAAwCD,OAAxC,EAAiD;AAC7C,YAAIE,UAAUL,IAAIG,KAAJ,CAAd;AACAV,aAAKY,QAAQX,MAAR,GAAiBb,WAAtB,EAAmCwB,QAAQV,MAAR,GAAiBX,YAApD,EAAkEqB,QAAQT,OAAR,GAAkBf,WAApF,EAAiGwB,QAAQR,OAAR,GAAkBb,YAAnH;AAEH;AACJ,CARD;;AAUAlB,IAAIO,OAAJ,CAAYM,EAAZ,CAAe,MAAf,EAAuB,UAAUqB,GAAV,EAAe;AAClClC,QAAIQ,KAAJ,GAAY0B,GAAZ;AACH,CAFD;;AAIA,SAASD,gBAAT,GAA4B;AACxB,WAAO;AACHL,gBAAQA,SAASb,WADd;AAEHc,gBAAQA,SAASX,YAFd;AAGHY,iBAASA,UAAUf,WAHhB;AAIHgB,iBAASA,UAAUb;AAJhB,KAAP;AAMH","file":"app.js","sourcesContent":["var app = new Vue({\r\n    el: '#app',\r\n    data: {\r\n        status: 'Waiting for other player',\r\n        sSocketId: '',\r\n        bInit: false,\r\n        oSocket: null,\r\n        oRoom: {}\r\n    },\r\n    methods: {\r\n        init: function() {\r\n            var _that = this;\r\n\r\n            this.oSocket = io();\r\n\r\n            this.oSocket.on('connect', function() {\r\n                _that.sSocketId = _that.oSocket.id;\r\n                _that.bInit = true;\r\n            });\r\n        }\r\n    }\r\n})\r\n\r\napp.init();\r\n\r\nvar windowWidth = window.innerWidth;\r\nvar windowHeight = window.innerHeight;\r\n\r\nfunction setup() {\r\n    var canvas = createCanvas(windowWidth, windowHeight);\r\n    canvas.parent('#app');\r\n    strokeWeight(5)\r\n    //stroke(0);\r\n}\r\n\r\nfunction draw() {\r\n\r\n\r\n}\r\n\r\nfunction mouseDragged() {\r\n\r\n    line(mouseX, mouseY, pmouseX, pmouseY);\r\n\r\n\r\n    app.oSocket.emit('move', getRelativeMouse());\r\n\r\n}\r\n\r\napp.oSocket.on('move', function (msg) {\r\n    line(msg.mouseX * windowWidth, msg.mouseY * windowHeight, msg.pmouseX * windowWidth, msg.pmouseY * windowHeight);\r\n});\r\n\r\napp.oSocket.on('log', function (msg) {\r\n    console.log(msg);\r\n\r\n    for (var index = 0; index < msg.length; index++) {\r\n        var element = msg[index];\r\n        line(element.mouseX * windowWidth, element.mouseY * windowHeight, element.pmouseX * windowWidth, element.pmouseY * windowHeight);\r\n\r\n    }\r\n});\r\n\r\napp.oSocket.on('room', function (msg) {\r\n    app.oRoom = msg;\r\n});\r\n\r\nfunction getRelativeMouse() {\r\n    return {\r\n        mouseX: mouseX / windowWidth,\r\n        mouseY: mouseY / windowHeight,\r\n        pmouseX: pmouseX / windowWidth,\r\n        pmouseY: pmouseY / windowHeight\r\n    }\r\n}"]}